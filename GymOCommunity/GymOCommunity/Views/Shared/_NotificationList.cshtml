@model IEnumerable<Notification>

@if (Model.Any())
{
    foreach (var notification in Model)
    {
        <div class="notification-item @(!notification.IsRead ? "unread" : "")" onclick="markAsRead(@notification.Id, this)">
            <img src="/images/default-avatar.jpg" class="notification-avatar" />
            <div class="notification-content">
                <div>
                    <strong>@notification.TriggerUser.UserName</strong> @notification.Message
                </div>
                <div class="notification-time">
                    @notification.CreatedAt.ToString("HH:mm dd/MM")
                </div>
            </div>
        </div>
    }
}
else
{
    <div class="text-center py-3 text-muted">
        Không có thông báo mới
    </div>
}

<script>
    function markAsRead(id, element) {
        $.post('/Notification/MarkAsRead', { id: id }, function() {
            $(element).removeClass('unread');
            updateNotificationBadge();
        });
    }
</script>